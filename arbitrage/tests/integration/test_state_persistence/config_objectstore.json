{
  "comment": "State Persistence Test - ObjectStore Mode",
  "comment2": "Tests state saving and recovery using LocalObjectStore (backtest mode)",
  "comment3": "IBKR Account: $50,000 with 2x leverage | Kraken Account: $50,000 with 5x leverage",

  "environment": "backtesting",
  "algorithm-type-name": "StatePersistenceTest",
  "algorithm-language": "Python",
  "algorithm-location": "../../../arbitrage/tests/integration/test_state_persistence/persistence.py",
  "data-folder": "../../../Data/",

  "close-automatically": true,

  "ignoreErrors": false,
  "quitOnException": true,

  "debugging": false,
  "debugging-method": "LocalCmdline",

  "log-handler": "QuantConnect.Logging.CompositeLogHandler",
  "messaging-handler": "QuantConnect.Messaging.Messaging",
  "job-queue-handler": "QuantConnect.Queues.JobQueue",
  "api-handler": "QuantConnect.Api.Api",
  "map-file-provider": "QuantConnect.Data.Auxiliary.LocalDiskMapFileProvider",
  "factor-file-provider": "QuantConnect.Data.Auxiliary.LocalDiskFactorFileProvider",
  "data-provider": "QuantConnect.Lean.Engine.DataFeeds.DefaultDataProvider",
  "data-channel-provider": "DataChannelProvider",
  "object-store": "QuantConnect.Lean.Engine.Storage.LocalObjectStore",
  "data-aggregator": "QuantConnect.Lean.Engine.DataFeeds.AggregationManager",

  "symbol-minute-limit": 10000,
  "symbol-second-limit": 10000,
  "symbol-tick-limit": 10000,

  "show-missing-data-logs": false,
  "maximum-data-points-per-chart-series": 1000000,
  "maximum-chart-series": 30,

  "comment4": "Multi-Account Margin Configuration",
  "multi-account-config": {
    "accounts": {
      "IBKR": 50000,
      "Kraken": 50000
    },
    "router": {
      "type": "Market",
      "mappings": {
        "USA": "IBKR",
        "Kraken": "Kraken"
      },
      "default": "IBKR"
    }
  },

  "backtesting": {
    "name": "State Persistence Test - ObjectStore Mode",
    "comment": "Total $100,000: IBKR ($50k, 2x leverage) + Kraken ($50k, 5x leverage)",
    "cash": {"USD": 100000},
    "start-date": "2025-09-02",
    "end-date": "2025-09-05"
  }
}
